{"ast":null,"code":"var _jsxFileName = \"/home/anisha7/Documents/coding/webdev/projects/Jobflow/Frontendd/src/components/DashBoard.jsx\",\n  _s = $RefreshSig$();\n//This is equivalent to home of the wkb\nimport { useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport BoardDetails from \"./BoardDetails\";\nimport NewDashBoard from \"./NewDashBoard\";\nimport { useBoardsContext } from \"../hooks/useBoardsContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashBoard = () => {\n  _s();\n  //const [boards, setBoards] = useState(null)\n  const {\n    boards,\n    dispatch\n  } = useBoardsContext(); //you can see why we need 2..cus we display boards\n  const {\n    user\n  } = useAuthContext();\n  useEffect(() => {\n    const fetchBoards = async () => {\n      const response = await fetch(\"/api/JobAppSteps\", {\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        }\n      }); //here instead of it being like http://localhost/4000 it proxies the browser requests to 4000 to prevent cors, instead f at 3000.\n      const json = await response.json();\n      if (response.ok) {\n        // setBoards(json)\n        //this is new.\n        dispatch({\n          type: 'SET_BOARDS',\n          payload: json\n        });\n      }\n    };\n    if (user) {\n      fetchBoards();\n    }\n  }, [dispatch, user]); //this [] but new now\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workouts\",\n      children: boards && boards.map(bd => /*#__PURE__*/_jsxDEV(BoardDetails, {\n        board: bd\n      }, bd._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewDashBoard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(DashBoard, \"u9zUhKGNGu53gf7pHP66zVXCoqM=\", false, function () {\n  return [useBoardsContext, useAuthContext];\n});\n_c = DashBoard;\nDashBoard.propTypes = {\n  bd: PropTypes.object.isRequired\n};\nexport default DashBoard;\nvar _c;\n$RefreshReg$(_c, \"DashBoard\");","map":{"version":3,"names":["useEffect","PropTypes","BoardDetails","NewDashBoard","useBoardsContext","useAuthContext","jsxDEV","_jsxDEV","DashBoard","_s","boards","dispatch","user","fetchBoards","response","fetch","headers","token","json","ok","type","payload","className","children","map","bd","board","_id","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","object","isRequired","$RefreshReg$"],"sources":["/home/anisha7/Documents/coding/webdev/projects/Jobflow/Frontendd/src/components/DashBoard.jsx"],"sourcesContent":["//This is equivalent to home of the wkb\r\nimport { useEffect} from \"react\"\r\n\r\nimport PropTypes from 'prop-types';\r\nimport BoardDetails from \"./BoardDetails\"\r\nimport NewDashBoard from \"./NewDashBoard\";\r\nimport { useBoardsContext } from \"../hooks/useBoardsContext\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\"\r\n\r\nconst DashBoard = () => {\r\n  //const [boards, setBoards] = useState(null)\r\n  const { boards, dispatch } = useBoardsContext()//you can see why we need 2..cus we display boards\r\n  const {user} = useAuthContext()\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    const fetchBoards = async () => {\r\n      const response = await fetch(\"/api/JobAppSteps\", {\r\n        headers: {'Authorization': `Bearer ${user.token}`},\r\n      })//here instead of it being like http://localhost/4000 it proxies the browser requests to 4000 to prevent cors, instead f at 3000.\r\n      const json = await response.json()\r\n      if (response.ok) {\r\n       // setBoards(json)\r\n       //this is new.\r\n       dispatch({type: 'SET_BOARDS', payload: json})\r\n      }\r\n    }\r\n if(user){\r\n    fetchBoards()\r\n }\r\n  }, [dispatch,user])//this [] but new now\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"workouts\">\r\n        {boards && boards.map(bd => (\r\n          <BoardDetails board={bd} key={bd._id} />\r\n        ))}\r\n      </div>\r\n      <NewDashBoard/>\r\n    </div>\r\n  )\r\n}\r\nDashBoard.propTypes = {\r\n  bd: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default DashBoard;\r\n"],"mappings":";;AAAA;AACA,SAASA,SAAS,QAAO,OAAO;AAEhC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,gBAAgB,QAAQ,2BAA2B;AAC5D,SAASC,cAAc,QAAQ,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB;EACA,MAAM;IAAEC,MAAM;IAAEC;EAAS,CAAC,GAAGP,gBAAgB,CAAC,CAAC;EAC/C,MAAM;IAACQ;EAAI,CAAC,GAAGP,cAAc,CAAC,CAAC;EAE/BL,SAAS,CAAC,MAAM;IAGd,MAAMa,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kBAAkB,EAAE;QAC/CC,OAAO,EAAE;UAAC,eAAe,EAAG,UAASJ,IAAI,CAACK,KAAM;QAAC;MACnD,CAAC,CAAC;MACF,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAI,CAAC,CAAC;MAClC,IAAIJ,QAAQ,CAACK,EAAE,EAAE;QAChB;QACA;QACAR,QAAQ,CAAC;UAACS,IAAI,EAAE,YAAY;UAAEC,OAAO,EAAEH;QAAI,CAAC,CAAC;MAC9C;IACF,CAAC;IACJ,IAAGN,IAAI,EAAC;MACLC,WAAW,CAAC,CAAC;IAChB;EACC,CAAC,EAAE,CAACF,QAAQ,EAACC,IAAI,CAAC,CAAC;;EAEnB,oBACEL,OAAA;IAAKe,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBhB,OAAA;MAAKe,SAAS,EAAC,UAAU;MAAAC,QAAA,EACtBb,MAAM,IAAIA,MAAM,CAACc,GAAG,CAACC,EAAE,iBACtBlB,OAAA,CAACL,YAAY;QAACwB,KAAK,EAAED;MAAG,GAAMA,EAAE,CAACE,GAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACxC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNxB,OAAA,CAACJ,YAAY;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEV,CAAC;AAAAtB,EAAA,CAlCKD,SAAS;EAAA,QAEgBJ,gBAAgB,EAC9BC,cAAc;AAAA;AAAA2B,EAAA,GAHzBxB,SAAS;AAmCfA,SAAS,CAACyB,SAAS,GAAG;EACpBR,EAAE,EAAExB,SAAS,CAACiC,MAAM,CAACC;AACvB,CAAC;AAED,eAAe3B,SAAS;AAAC,IAAAwB,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}